# 1. Configuração do Datasource H2 para Testes
#
# Define o banco de dados H2 em memória e força o modo de compatibilidade com PostgreSQL
# (MODE=PostgreSQL), que é crucial para evitar problemas de case sensitivity
# e sintaxe SQL.
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
spring.datasource.username=sa
spring.datasource.password=password

# 2. Configuração do JPA/Hibernate
#
# Define que o Hibernate deve criar e depois derrubar o schema
# automaticamente a partir das suas entidades (@Entity).
# Isso garante que a tabela CANDIDATOS exista para o teste.
spring.jpa.hibernate.ddl-auto=create-drop

# 3. Flyway
#
# Desabilita o Flyway para que não haja conflito com o ddl-auto do Hibernate
# ou erros por não encontrar as migrations no ambiente de teste.
spring.flyway.enabled=false

# 4. Outras configurações (Opcional)
#
# Exibe os comandos SQL gerados pelo Hibernate no log, útil para depuração.
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true